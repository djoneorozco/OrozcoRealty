<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projects | OrozcoRealty LLC</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #1B1814;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    header, nav, footer { background: #111; color: #fff; padding: 1rem; text-align: center; }
    nav a { color: #ffd700; margin: 0 1rem; text-decoration: none; }
    main { max-width: 1200px; margin: auto; padding: 1rem; background: #111; border-radius: 10px; }
    .section { margin-bottom: 2rem; }
    input, button, textarea { margin: 0.3rem; padding: 0.5rem; border-radius: 5px; }
    .kanban-board { display: flex; gap: 1rem; }
    .kanban-column { flex: 1; background: #333; padding: 1rem; border-radius: 10px; }
    .task { background: #555; padding: 0.5rem; margin: 0.3rem 0; border-radius: 5px; cursor: move; }
    canvas { background: #222; border-radius: 10px; padding: 1rem; }
  </style>
</head>
<body>
  <header>
    <h1>Projects Dashboard</h1>
  </header>
  <nav>
    <a href="#">Home</a>
    <a href="#projects">Projects</a>
    <a href="#budget">Budget</a>
    <a href="#roadmap">Roadmap</a>
    <a href="#kanban">Kanban</a>
  </nav>
  <main>
    <section class="section" id="projects">
      <h2>Create Project</h2>
      <input id="projectName" placeholder="Project Name" />
      <input id="projectBudget" type="number" placeholder="Total Budget" />
      <textarea id="projectExpenses" placeholder="Comma-separated Expenses (e.g. 100,200,300)"></textarea>
      <button onclick="saveProject()">Save Project</button>
    </section>

    <section class="section" id="budget">
      <h2>Budget Overview</h2>
      <canvas id="budgetChart" width="400" height="200"></canvas>
    </section>

    <section class="section" id="roadmap">
      <h2>Project Roadmap</h2>
      <input id="deliverable" placeholder="Deliverable" />
      <input id="dueDate" type="date" />
      <button onclick="addTimelineItem()">Add to Roadmap</button>
      <ul id="timeline"></ul>
    </section>

    <section class="section" id="kanban">
      <h2>Kanban Board</h2>
      <div class="kanban-board">
        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)">
          <h3>To Do</h3>
          <div class="task" draggable="true" ondragstart="drag(event)">Task 1</div>
        </div>
        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)">
          <h3>In Progress</h3>
        </div>
        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)">
          <h3>Done</h3>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <p>OrozcoRealty LLC Â© 2025</p>
  </footer>

  <script>
    function saveProject() {
      const name = document.getElementById('projectName').value;
      const budget = parseFloat(document.getElementById('projectBudget').value);
      const expenses = document.getElementById('projectExpenses').value
        .split(',')
        .map(Number)
        .filter(n => !isNaN(n));

      const totalExpenses = expenses.reduce((acc, val) => acc + val, 0);
      const remaining = budget - totalExpenses;

      const ctx = document.getElementById('budgetChart').getContext('2d');
      if (window.budgetPie) window.budgetPie.destroy();
      window.budgetPie = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Expenses', 'Remaining'],
          datasets: [{
            data: [totalExpenses, remaining],
            backgroundColor: ['#ff6666', '#66ff66']
          }]
        }
      });
    }

    function addTimelineItem() {
      const deliverable = document.getElementById('deliverable').value;
      const dueDate = document.getElementById('dueDate').value;
      if (deliverable && dueDate) {
        const item = document.createElement('li');
        item.textContent = `${deliverable} - Due: ${dueDate}`;
        document.getElementById('timeline').appendChild(item);
      }
    }

    function allowDrop(ev) {
      ev.preventDefault();
    }

    function drag(ev) {
      ev.dataTransfer.setData("text", ev.target.outerHTML);
      ev.target.remove();
    }

    function drop(ev) {
      ev.preventDefault();
      const data = ev.dataTransfer.getData("text");
      ev.target.closest('.kanban-column').insertAdjacentHTML('beforeend', data);
    }
  </script>
</body>
</html>
