<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projects | OrozcoRealty LLC</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js/dist/Chart.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #1B1814;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    header {
      height: 300px;
      background-image: url('banner.jpg');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: 2rem;
    }
    header img {
      max-width: 300px;
      height: auto;
      animation: pulseGlow 3s ease-in-out infinite;
    }
    nav {
      background: #111;
      padding: 1rem;
      display: flex;
      justify-content: center;
      gap: 2rem;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
      text-transform: uppercase;
      transition: color 0.3s ease;
    }
    nav a:hover {
      color: #ffd700;
    }
    main {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 2rem;
      background-color: #111;
      border-radius: 12px;
      box-shadow: 0 0 24px rgba(255, 255, 255, 0.15);
    }
    .project-icons {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .project-icon {
      background: #222;
      color: #ffd700;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    h1, h2 {
      text-align: center;
      color: #ffd700;
    }
    .form-inline, .budget-input, .expense-form {
      display: flex;
      gap: 0.5rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }
    input, button {
      padding: 0.5rem;
      border-radius: 6px;
      border: none;
    }
    button {
      background: #ffd700;
      color: #111;
      cursor: pointer;
    }
    .expense-section {
      display: flex;
      gap: 2rem;
    }
    #budgetPie {
      max-width: 250px;
    }
    .timeline {
      overflow-x: auto;
      white-space: nowrap;
      padding: 1rem;
      background: #222;
      border-radius: 10px;
      margin-top: 2rem;
    }
    .timeline-event {
      display: inline-block;
      background: #444;
      padding: 0.5rem 1rem;
      margin-right: 1rem;
      border-left: 4px solid #ffd700;
      border-radius: 6px;
      color: #fff;
    }
    footer {
      background: #111;
      color: #aaa;
      text-align: center;
      padding: 1.5rem;
      font-size: 0.95rem;
    }
    @keyframes pulseGlow {
      0%, 100% { transform: scale(1); filter: brightness(1); }
      50% { transform: scale(1.05); filter: brightness(1.3); }
    }
  </style>
</head>
<body>
  <header>
    <img src="OrozcoRealtyLLC.png" alt="OrozcoRealty Crest Logo">
  </header>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="roadmap.html">Roadmap</a>
    <a href="projects.html">Projects</a>
  </nav>
  <main>
    <div class="project-icons" id="projectIcons"></div>
    <h1>Project Management</h1>

    <div class="form-inline">
      <input type="text" id="projectName" placeholder="Project Name">
      <input type="number" id="projectBudget" placeholder="Total Budget">
      <button onclick="saveProject()">Save Project</button>
    </div>

    <div class="expense-section">
      <div>
        <h2>Expenses</h2>
        <div class="expense-form">
          <input type="text" id="expenseName" placeholder="Expense Name">
          <input type="number" id="expenseAmount" placeholder="Amount">
          <button onclick="addExpense()">Add</button>
        </div>
        <div id="expenseList"></div>
        <p><strong>Total Expenses:</strong> $<span id="totalExpenses">0</span></p>
      </div>
      <canvas id="budgetPie"></canvas>
    </div>

    <h2>Project Timeline</h2>
    <div class="form-inline">
      <input type="text" id="deliverableName" placeholder="Deliverable">
      <input type="date" id="deliverableDate">
      <button onclick="addDeliverable()">Add Deliverable</button>
    </div>
    <div class="timeline" id="timeline"></div>
  </main>

  <footer>
    &copy; 2025 OrozcoRealty LLC - All Rights Reserved
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let currentProject = {};
    let projects = JSON.parse(localStorage.getItem('projects')) || {};

    function saveProject() {
      const name = document.getElementById('projectName').value;
      const budget = parseFloat(document.getElementById('projectBudget').value);
      if (!name || isNaN(budget)) return;
      currentProject = { name, budget, expenses: [], timeline: [] };
      projects[name] = currentProject;
      localStorage.setItem('projects', JSON.stringify(projects));
      renderProjectIcons();
      updateDisplay();
    }

    function renderProjectIcons() {
      const container = document.getElementById('projectIcons');
      container.innerHTML = '';
      Object.keys(projects).forEach(name => {
        const icon = document.createElement('div');
        icon.className = 'project-icon';
        icon.innerText = name;
        icon.onclick = () => {
          currentProject = projects[name];
          updateDisplay();
        };
        container.appendChild(icon);
      });
    }

    function addExpense() {
      const name = document.getElementById('expenseName').value;
      const amount = parseFloat(document.getElementById('expenseAmount').value);
      if (!name || isNaN(amount)) return;
      currentProject.expenses.push({ name, amount });
      saveProject();
    }

    function addDeliverable() {
      const name = document.getElementById('deliverableName').value;
      const date = document.getElementById('deliverableDate').value;
      if (!name || !date) return;
      currentProject.timeline.push({ name, date });
      saveProject();
    }

    function updateDisplay() {
      document.getElementById('projectName').value = currentProject.name || '';
      document.getElementById('projectBudget').value = currentProject.budget || '';
      renderExpenses();
      renderTimeline();
    }

    function renderExpenses() {
      const list = document.getElementById('expenseList');
      list.innerHTML = '';
      let total = 0;
      currentProject.expenses.forEach(exp => {
        total += exp.amount;
        const item = document.createElement('div');
        item.innerText = `${exp.name}: $${exp.amount}`;
        list.appendChild(item);
      });
      document.getElementById('totalExpenses').innerText = total.toFixed(2);
      renderPie(total);
    }

    function renderPie(totalExpenses) {
      const ctx = document.getElementById('budgetPie').getContext('2d');
      new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Spent', 'Remaining'],
          datasets: [{
            data: [totalExpenses, currentProject.budget - totalExpenses],
            backgroundColor: ['#ff4c4c', '#00cc88'],
            borderWidth: 0
          }]
        },
        options: {
          plugins: {
            legend: { position: 'bottom' }
          },
          cutout: '70%'
        }
      });
    }

    function renderTimeline() {
      const container = document.getElementById('timeline');
      container.innerHTML = '';
      currentProject.timeline.forEach(entry => {
        const event = document.createElement('div');
        event.className = 'timeline-event';
        event.innerText = `${entry.name} (${entry.date})`;
        container.appendChild(event);
      });
    }

    renderProjectIcons();
  </script>
</body>
</html>
