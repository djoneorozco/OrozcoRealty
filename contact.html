<!DOCTYPE html>
<html>
  <head>
    <title>Google Gantt Chart</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['gantt']});
      google.charts.setOnLoadCallback(drawChart);

      let data, chart;

      function drawChart() {
        data = new google.visualization.DataTable();
        data.addColumn('string', 'Task ID');
        data.addColumn('string', 'Task Name');
        data.addColumn('string', 'Resource');
        data.addColumn('date', 'Start Date');
        data.addColumn('date', 'End Date');
        data.addColumn('number', 'Duration');
        data.addColumn('number', 'Percent Complete');
        data.addColumn('string', 'Dependencies');

        chart = new google.visualization.Gantt(document.getElementById('chart_div'));
        chart.draw(data, {
          height: 275,
          gantt: {
            trackHeight: 30
          }
        });
      }

      function addTask() {
        const taskName = document.getElementById("taskName").value;
        const startDate = new Date(document.getElementById("startDate").value);
        const endDate = new Date(document.getElementById("endDate").value);

        if (!taskName || isNaN(startDate) || isNaN(endDate)) {
          alert("Please fill in all fields.");
          return;
        }

        const taskId = "T" + Date.now();

        data.addRow([
          taskId,            // Task ID
          taskName,          // Task Name
          null,              // Resource
          startDate,         // Start Date
          endDate,           // End Date
          null,              // Duration (null if using start & end)
          0,                 // % Complete
          null               // Dependencies
        ]);

        chart.draw(data, {
          height: data.getNumberOfRows() * 40 + 50,
          gantt: { trackHeight: 30 }
        });
      }
    </script>
  </head>
  <body style="font-family:sans-serif; background:#1B1814; color:#fff; padding:2rem">
    <h1 style="color:#ffd700">Google Gantt Chart</h1>
    <div style="margin-bottom: 1rem;">
      <input id="taskName" placeholder="Task Name" />
      <input id="startDate" type="date" />
      <input id="endDate" type="date" />
      <button onclick="addTask()">Add Task</button>
    </div>
    <div id="chart_div"></div>
  </body>
</html>
